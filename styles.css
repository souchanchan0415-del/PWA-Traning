/* ===== Train Punch - readable theme (v1.1.2) ===== */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,
               "Apple Color Emoji","Segoe UI Emoji";
  font-size:17px; line-height:1.6; letter-spacing:.2px;
  background:var(--bg); color:var(--fg);
}

/* Color tokens (Dark default) */
:root{
  --bg:#0b0f14;
  --fg:#e6edf3;
  --muted:#9fb1c1;
  --card:#111820;
  --line:#223140;
  --shadow:0 8px 24px rgba(0,0,0,.28);
  --accent:#34d0bd;          /* 見やすいティール */
  --accent-ink:#062a27;
  --ghost:#1a2733;
  --ghost-ink:#cfe5f5;
  --danger:#e5484d;
}

/* Light mode (設定のトグル or OSプリファレンスで有効) */
[data-theme="light"]{
  --bg:#f8fbfe; --fg:#0e1a23; --muted:#5a7186; --card:#ffffff;
  --line:#d7e3ee; --shadow:0 8px 24px rgba(0,0,0,.08);
  --accent:#0ea5a3; --accent-ink:#ffffff; --ghost:#e9f2f8; --ghost-ink:#0e1a23;
}

/* Layout */
header{position:sticky;top:0;background:rgba(10,14,18,.9);
  border-bottom:1px solid var(--line); backdrop-filter:saturate(160%) blur(8px);
  padding:10px 14px}
h1{margin:0 0 10px 0;font-size:20px; font-weight:700}
main{max-width:980px;margin:0 auto;padding:12px}

/* Tabs */
.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tabs button{
  border:none; border-radius:999px; padding:10px 14px;
  background:var(--ghost); color:var(--ghost-ink);
}
.tabs button.active{ background:var(--accent); color:var(--accent-ink); }

/* Cards */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  margin:12px 0;
  box-shadow:var(--shadow);
}

/* Controls */
input,select,button{
  appearance:none; border-radius:12px;
  border:1px solid var(--line); background:transparent; color:var(--fg);
  padding:12px 12px; font-size:16px; min-height:44px;
}
input::placeholder{color:var(--muted)}
button{ background:var(--accent); color:var(--accent-ink); border:none; font-weight:600 }
button:active{ transform:translateY(1px) }
button.ghost{ background:var(--ghost); color:var(--ghost-ink) }
button.danger{ background:var(--danger); color:#fff }

/* Rows / Grids */
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.row.end{justify-content:flex-end}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px}

/* Lists */
.list{list-style:none;margin:0;padding:0}
.list li{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 0; border-bottom:1px dashed var(--line)
}
.list li:last-child{border-bottom:none}

/* Info block (設定の「バージョン / プライバシー / サポート」) */
.kv{display:grid;grid-template-columns:140px 1fr;gap:6px 12px}
.kv > div:nth-child(odd){color:var(--muted)}
.kv a{
  color:var(--accent); text-decoration:none; border-bottom:1px solid transparent;
  padding:2px 0;
}
.kv a:hover{ border-bottom-color:var(--accent) }

/* Toast */
.toast{
  position:fixed; left:50%; bottom:24px; transform:translateX(-50%);
  background:var(--ghost); color:var(--ghost-ink);
  padding:10px 14px; border-radius:999px; opacity:0; transition:opacity .2s;
  box-shadow:var(--shadow)
}
.toast.show{opacity:1}

/* Chart canvas spacing (スマホでの滲み軽減) */
canvas{image-rendering:-webkit-optimize-contrast}

/* Accessible focus */
:focus-visible{ outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent) ;
  outline-offset:2px; border-radius:12px }

/* Tabs visibility */
.tab { display: none; }        /* すべて隠す */
.tab.active { display: block; }/* 選択タブだけ表示 */